
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
</head>
<body>
    <div>
        <svg width="400" height="110">
            <rect width="100" height="100" style="fill:red;stroke-width:3;stroke:rgb(0,0,0)" id="rect1" />
        </svg>
        <br />
        <svg width="400" height="110">
            <rect width="100" height="100" style="fill:rgb(255, 216, 0);stroke-width:3;stroke:rgb(0,0,0)" id="rect2" />
        </svg>
        <br />
        <svg width="400" height="110">
            <rect width="100" height="100" style="fill:rgb(0, 0, 255);stroke-width:3;stroke:rgb(0,0,0)" id="rect3" />
        </svg>
        <br />


        <script src="~/Scripts/jquery-3.3.1.min.js" type="text/javascript"></script>

        <script type="text/javascript">
            function executeQuerry(timestamp,divId) {
                $.ajax({
                    url: "/Square/changeAColor",
                    data: {
                    },
                    success: function (result) {
                        //console.log(result);
                        var color = jQuery.parseJSON(result);
                        $(divId).css({ "fill": color });                    
                        console.log("-------")
                    },
                    error: function (result) {
                        console.log(result);
                    }
                });
                console.log(timestamp);          
                setTimeout(executeQuerry, timestamp,timestamp,divId);
            }
            $(document).ready(function () {
                console.log("ready!");
                setTimeout(executeQuerry,1000,200,"#rect1")
                setTimeout(executeQuerry,1500,300,"#rect2")
                setTimeout(executeQuerry,2000,400,"#rect3")


            });
        </script>


    </div>
</body>
</html>
